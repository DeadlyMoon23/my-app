{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\React_project 2\\\\my-app\\\\src\\\\components\\\\hoc-helpers\\\\with-data.js\";\nimport React, { Component } from \"react\";\nimport Spinner from \"../spinner\";\nimport ErrorIndicator from \"../error-indicator\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst withData = View => {\n  return class extends Component {\n    constructor(...args) {\n      super(...args);\n      this.state = {\n        data: null,\n        loading: true,\n        error: false\n      };\n    }\n    componentDidUpdate(prevProps) {\n      if (this.props.getData !== prevProps.getData) {\n        this.update();\n      }\n    }\n    componentDidMount() {\n      this.update();\n    }\n    update() {\n      this.setState({\n        loading: true,\n        error: false\n      });\n      this.props.getData().then(data => {\n        this.setState({\n          data,\n          loading: false\n        });\n      }).catch(() => this.setState({\n        error: true,\n        loading: false\n      }));\n    }\n    render() {\n      const {\n        data,\n        error,\n        loading\n      } = this.state;\n      if (loading) return /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 33\n      }, this);\n      if (error) return /*#__PURE__*/_jsxDEV(ErrorIndicator, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 31\n      }, this);\n      return /*#__PURE__*/_jsxDEV(View, {\n        ...this.props,\n        data: data\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 20\n      }, this);\n    }\n  };\n};\nexport default withData;","map":{"version":3,"names":["React","Component","Spinner","ErrorIndicator","jsxDEV","_jsxDEV","withData","View","constructor","args","state","data","loading","error","componentDidUpdate","prevProps","props","getData","update","componentDidMount","setState","then","catch","render","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["C:/Users/User/Desktop/React_project 2/my-app/src/components/hoc-helpers/with-data.js"],"sourcesContent":["import React, {Component} from \"react\"\r\n\r\nimport Spinner from \"../spinner\"\r\nimport ErrorIndicator from \"../error-indicator\"\r\n\r\nconst withData = (View) => {\r\n    return class extends Component {\r\n        state = {\r\n            data: null,\r\n            loading: true,\r\n            error: false\r\n        }\r\n\r\n        componentDidUpdate(prevProps) {\r\n            if (this.props.getData !== prevProps.getData) {\r\n                this.update()\r\n            }\r\n        }\r\n\r\n        componentDidMount() {\r\n            this.update()\r\n        }\r\n\r\n        update() {\r\n            this.setState({\r\n                loading: true,\r\n                error: false\r\n            })\r\n\r\n            this.props.getData()\r\n                .then((data) => { this.setState({ data, loading: false })})\r\n                .catch(() => this.setState({ error: true, loading: false }))\r\n        }\r\n\r\n        render() {\r\n            const { data, error, loading } = this.state\r\n\r\n            if (loading) return <Spinner />\r\n\r\n            if (error) return <ErrorIndicator />\r\n\r\n            return <View { ...this.props } data={ data } />\r\n        }\r\n    }\r\n}\r\n\r\nexport default withData"],"mappings":";AAAA,OAAOA,KAAK,IAAGC,SAAS,QAAO,OAAO;AAEtC,OAAOC,OAAO,MAAM,YAAY;AAChC,OAAOC,cAAc,MAAM,oBAAoB;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAE/C,MAAMC,QAAQ,GAAIC,IAAI,IAAK;EACvB,OAAO,cAAcN,SAAS,CAAC;IAAAO,YAAA,GAAAC,IAAA;MAAA,SAAAA,IAAA;MAAA,KAC3BC,KAAK,GAAG;QACJC,IAAI,EAAE,IAAI;QACVC,OAAO,EAAE,IAAI;QACbC,KAAK,EAAE;MACX,CAAC;IAAA;IAEDC,kBAAkBA,CAACC,SAAS,EAAE;MAC1B,IAAI,IAAI,CAACC,KAAK,CAACC,OAAO,KAAKF,SAAS,CAACE,OAAO,EAAE;QAC1C,IAAI,CAACC,MAAM,CAAC,CAAC;MACjB;IACJ;IAEAC,iBAAiBA,CAAA,EAAG;MAChB,IAAI,CAACD,MAAM,CAAC,CAAC;IACjB;IAEAA,MAAMA,CAAA,EAAG;MACL,IAAI,CAACE,QAAQ,CAAC;QACVR,OAAO,EAAE,IAAI;QACbC,KAAK,EAAE;MACX,CAAC,CAAC;MAEF,IAAI,CAACG,KAAK,CAACC,OAAO,CAAC,CAAC,CACfI,IAAI,CAAEV,IAAI,IAAK;QAAE,IAAI,CAACS,QAAQ,CAAC;UAAET,IAAI;UAAEC,OAAO,EAAE;QAAM,CAAC,CAAC;MAAA,CAAC,CAAC,CAC1DU,KAAK,CAAC,MAAM,IAAI,CAACF,QAAQ,CAAC;QAAEP,KAAK,EAAE,IAAI;QAAED,OAAO,EAAE;MAAM,CAAC,CAAC,CAAC;IACpE;IAEAW,MAAMA,CAAA,EAAG;MACL,MAAM;QAAEZ,IAAI;QAAEE,KAAK;QAAED;MAAQ,CAAC,GAAG,IAAI,CAACF,KAAK;MAE3C,IAAIE,OAAO,EAAE,oBAAOP,OAAA,CAACH,OAAO;QAAAsB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;MAE/B,IAAId,KAAK,EAAE,oBAAOR,OAAA,CAACF,cAAc;QAAAqB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;MAEpC,oBAAOtB,OAAA,CAACE,IAAI;QAAA,GAAM,IAAI,CAACS,KAAK;QAAGL,IAAI,EAAGA;MAAM;QAAAa,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IACnD;EACJ,CAAC;AACL,CAAC;AAED,eAAerB,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}